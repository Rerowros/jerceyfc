---
// src/components/HeaderControls.astro
// Этот компонент теперь не содержит <script>, вся логика в Layout.astro
---
<!-- 
  Изменения: 
  - Обернул все в div с flex-col для вертикального расположения в мобильном меню.
  - Добавил md:flex-row и md:items-center для горизонтального расположения на десктопе.
  - Убрал разделители (div.h-6), так как в мобильном меню они не нужны, а на десктопе gap достаточен.
-->
<div class="flex flex-col md:flex-row items-center gap-4">

  <div id="palette-switcher" class="flex items-center gap-2">
    <button data-theme="indigo" class="h-5 w-5 rounded-full bg-[#4f46e5] ring-offset-background ring-offset-2 focus:ring-2 ring-slate-400 transition-all" title="Indigo"></button>
    <button data-theme="lavender" class="h-5 w-5 rounded-full bg-[#8c6df5] ring-offset-background ring-offset-2 focus:ring-2 ring-slate-400 transition-all" title="Lavender"></button>
    <button data-theme="mint" class="h-5 w-5 rounded-full bg-[#25b083] ring-offset-background ring-offset-2 focus:ring-2 ring-slate-400 transition-all" title="Mint"></button>
    <button data-theme="sunny" class="h-5 w-5 rounded-full bg-[#facc15] ring-offset-background ring-offset-2 focus:ring-2 ring-slate-400 transition-all" title="Sunny"></button>
  </div>
  
  <!-- Переключатель языка -->
  <button id="lang-toggle" class="font-semibold text-sm px-3 py-1.5 rounded-md bg-background hover:bg-foreground/10 transition-colors w-full md:w-auto">
    <span class="lang-ru">EN</span>
    <span class="lang-en">RU</span>
  </button>

  <!-- Переключатель темы -->
  <button id="theme-toggle" class="text-2xl relative overflow-hidden">
    <span id="theme-icon" class="theme-icon inline-block relative w-7 h-7">
      <svg class="absolute inset-0 w-full h-full" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="sun-group">
          <circle cx="16" cy="16" r="8" fill="#facc15" />
          <g>
            <line x1="16" y1="2" x2="16" y2="7" stroke="#facc15" stroke-width="2" />
            <line x1="16" y1="25" x2="16" y2="30" stroke="#facc15" stroke-width="2" />
            <line x1="2" y1="16" x2="7" y2="16" stroke="#facc15" stroke-width="2" />
            <line x1="25" y1="16" x2="30" y2="16" stroke="#facc15" stroke-width="2" />
            <line x1="6.34" y1="6.34" x2="10.1" y2="10.1" stroke="#facc15" stroke-width="2" />
            <line x1="21.9" y1="21.9" x2="25.66" y2="25.66" stroke="#facc15" stroke-width="2" />
            <line x1="6.34" y1="25.66" x2="10.1" y2="21.9" stroke="#facc15" stroke-width="2" />
            <line x1="21.9" y1="10.1" x2="25.66" y2="6.34" stroke="#facc15" stroke-width="2" />
          </g>
        </g>
        <g id="moon-group">
          <!-- Новый путь луны: крупнее, центрирован -->
          <path d="M16 8a8 8 0 1 0 8 8c-4.42 0-8-3.58-8-8z" fill="#4f46e5" />
        </g>
      </svg>
    </span>
  </button>
</div>
