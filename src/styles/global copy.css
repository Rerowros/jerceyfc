@import "tailwindcss";
@font-face {
  font-family: "Inter";
  src: url("/fonts/Inter/Inter-VariableFont_opsz\,wght.ttf") format("truetype");
  font-weight: 100 900;
  font-display: swap;
  font-style: normal;
}
:root {
  /* Базовые цвета для светлой темы */
  --color-background: #ffffff;
  --color-foreground: #1a1d23;
  --color-card: #ffffff;
  --color-card-foreground: #1a1d23;
  --color-primary: #4338ca;
  --color-primary-foreground: #ffffff;
  --color-muted: #f1f5f9;
  --color-muted-foreground: #64748b;
  --color-border: #e2e8f0;
}
/* Темная тема */
html.dark {
  --color-background: #0f172a;
  --color-foreground: #f1f5f9;
  --color-card: #1e293b;
  --color-card-foreground: #f1f5f9;
  --color-primary: #6366f1;
  --color-primary-foreground: #ffffff;
  --color-muted: #334155;
  --color-muted-foreground: #94a3b8;
  --color-border: #475569;
}
/* Палитра Indigo */
:root[data-theme="indigo"] {
  --color-primary: #4338ca;
  --color-background: #ffffff;
  --color-card: #ffffff;
}
html.dark[data-theme="indigo"] {
  --color-primary: #6366f1;
  --color-background: #0f172a;
  --color-foreground: #f1f5f9;
  --color-card: #1e293b;
  --color-card-foreground: #f1f5f9;
}
/* Палитра Lavender */
:root[data-theme="lavender"] {
  --color-primary: #7c3aed;
  --color-background: #faf5ff;
  --color-card: #fefbff;
}
html.dark[data-theme="lavender"] {
  --color-primary: #a855f7;
  --color-background: #1e1024;
  --color-foreground: #f3e8ff;
  --color-card: #2d1b36;
  --color-card-foreground: #f3e8ff;
}
/* Палитра Mint */
:root[data-theme="mint"] {
  --color-primary: #059669;
  --color-background: #f0fdfa;
  --color-card: #f7fefc;
}
html.dark[data-theme="mint"] {
  --color-primary: #10b981;
  --color-background: #0c1f17;
  --color-foreground: #ecfdf5;
  --color-card: #1a2e23;
  --color-card-foreground: #ecfdf5;
}
/* Палитра Sunny */
:root[data-theme="sunny"] {
  --color-primary: #f59e0b;
  --color-background: #fffbeb;
  --color-card: #fefdf7;
}
html.dark[data-theme="sunny"] {
  --color-primary: #fbbf24;
  --color-background: #1c1511;
  --color-foreground: #fef3c7;
  --color-card: #2d2315;
  --color-card-foreground: #fef3c7;
}

/* Контейнер */
.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
  max-width: 1280px;
}

@media (min-width: 768px) {
  .container {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

/* Мобильная адаптация хедера */
@media (max-width: 767px) {
  /* Уменьшаем отступы в мобильном меню */
  #mobile-menu .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  /* Компактный стиль для мобильных элементов */
  .mobile-compact {
    font-size: 0.875rem;
    padding: 0.375rem 0.75rem;
  }
}

@media (min-width: 768px) {
  /* Отступ для основного контента под десктопный хедер */
  .main-content,
  main {
    padding-top: 1rem;
  }
}

/* Градиентный фон */
.bg-theme-gradient {
  background: linear-gradient(
    135deg,
    var(--color-background) 0%,
    color-mix(in srgb, var(--color-background) 85%, var(--color-primary) 15%)
      25%,
    color-mix(in srgb, var(--color-background) 90%, var(--color-primary) 10%)
      50%,
    color-mix(in srgb, var(--color-background) 80%, var(--color-primary) 20%)
      75%,
    color-mix(in srgb, var(--color-background) 95%, var(--color-primary) 5%)
      100%
  );
  background-size: 400% 400%;
  animation: gradient-pan 6s ease-in-out infinite;
}

@keyframes gradient-pan {
  0% {
    background-position: 0% 50%;
  }
  25% {
    background-position: 100% 25%;
  }
  50% {
    background-position: 100% 75%;
  }
  75% {
    background-position: 0% 75%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.btn {
  background: linear-gradient(
    90deg,
    var(--color-primary) 90%,
    color-mix(in srgb, var(--color-primary), #fff 10%) 100%
  );
  color: var(--color-primary-foreground) !important;
  border-radius: 0.5rem; /* Прямоугольная форма с мягкими углами */
  box-shadow: 0 2px 8px 0 color-mix(in srgb, var(--color-primary), #000 10%);
  padding: 0.75rem 2rem;
  font-weight: 500;
  font-size: 1.125rem;
  transition: background 0.2s, box-shadow 0.2s;
}

.btn:hover {
  background: linear-gradient(
    90deg,
    color-mix(in srgb, var(--color-primary), #fff 5%) 70%,
    var(--color-primary) 100%
  );
  box-shadow: 0 4px 12px 0 color-mix(in srgb, var(--color-primary), #000 15%);
}

.btn-accent {
  background: linear-gradient(
    90deg,
    var(--color-primary) 80%,
    color-mix(in srgb, var(--color-primary), #fff 20%) 100%
  );
  box-shadow: 0 2px 12px 0 color-mix(in srgb, var(--color-primary), #000 20%);
  color: var(--color-primary-foreground) !important;
  transition: background 0.2s, box-shadow 0.2s;
}
.btn-accent:hover {
  background: linear-gradient(
    90deg,
    color-mix(in srgb, var(--color-primary), #fff 10%) 60%,
    var(--color-primary) 100%
  );
  box-shadow: 0 4px 16px 0 color-mix(in srgb, var(--color-primary), #000 30%);
}

/* Анимации переходов тем */
.theme-sun-enter {
  opacity: 1;
  transform: rotate(0deg) scale(1);
  transition: opacity 0.4s, transform 0.4s;
}

.theme-sun-leave {
  opacity: 0;
  transform: rotate(180deg) scale(0.5);
  transition: opacity 0.4s, transform 0.4s;
}
.theme-moon-enter {
  opacity: 1;
  transform: rotate(0deg) scale(1);
  transition: opacity 0.4s, transform 0.4s;
}
.theme-moon-leave {
  opacity: 0;
  transform: rotate(-180deg) scale(0.5);
  transition: opacity 0.4s, transform 0.4s;
}

.theme-icon-enter {
  opacity: 1;
  transform: scale(1) rotate(0deg);
  transition: opacity 0.3s, transform 0.3s;
}
.theme-icon-leave {
  opacity: 0;
  transform: scale(0.7) rotate(-30deg);
  transition: opacity 0.3s, transform 0.3s;
}

/* 
  Этот класс мы будем добавлять к элементам, которые должны анимироваться.
  По умолчанию они невидимы и немного сдвинуты вниз.
*/
.scroll-animate {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.6s ease-out,
    transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  /* Мы используем transition вместо animation для плавности */
}

/* 
  Этот класс будет добавляться JavaScript'ом, когда элемент появится на экране.
  Он возвращает элемент в нормальное состояние, запуская transition.
*/
.scroll-animate.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* View Transitions - горизонтальные переходы */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 400ms;
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Определяем направления переходов на основе data-astro-transition */
html[data-astro-transition="forward"]::view-transition-old(root) {
  animation-name: slide-to-left;
}
html[data-astro-transition="forward"]::view-transition-new(root) {
  animation-name: slide-from-right;
}

html[data-astro-transition="back"]::view-transition-old(root) {
  animation-name: slide-to-right;
}
html[data-astro-transition="back"]::view-transition-new(root) {
  animation-name: slide-from-left;
}

/* Анимации горизонтального слайда */
@keyframes slide-to-left {
  to {
    transform: translateX(-100%);
  }
}

@keyframes slide-from-right {
  from {
    transform: translateX(100%);
  }
}

@keyframes slide-to-right {
  to {
    transform: translateX(100%);
  }
}

@keyframes slide-from-left {
  from {
    transform: translateX(-100%);
  }
}

/* Отключаем анимации для пользователей с настройкой prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation: none !important;
  }
}

/* Языковые переключатели */
.lang-en {
  display: none;
}
.lang-ru {
  display: inline;
}
html[lang="en"] .lang-en {
  display: inline;
}
html[lang="en"] .lang-ru {
  display: none;
}

/* Принудительное применение цветов для надежности */
body {
  background-color: var(--color-background) !important;
  color: var(--color-foreground) !important;
}

/* Обеспечиваем правильные цвета для карточек */
.bg-card {
  background-color: var(--color-card) !important;
  color: var(--color-card-foreground) !important;
}

/* Языковые переключения - по умолчанию скрыты */
.lang-ru,
.lang-en {
  display: none;
}

/* Русский язык активен */
html[lang="ru"] .lang-ru {
  display: initial;
}

/* Английский язык активен */
html[lang="en"] .lang-en {
  display: initial;
}
